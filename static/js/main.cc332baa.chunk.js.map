{"version":3,"sources":["utils/api.js","redux/demand/index.js","routes/search/index.js","routes/contact-info/index.js","routes/records/index.js","routes/match/index.js","routes/home/index.js","redux/hospitals/index.js","routes/hospitals/index.js","routes/detail/index.js","routes/record/index.js","redux/reducer.js","redux/store.js","App.js","serviceWorker.js","index.js"],"names":["get","url","params","axios","basic","API_GET_HOSPITALS","API_GET_SUPPLIES","initialState","filter","cityCode","supplies","cityName","allSupplies","flatSupplies","demandActions","setDemandsFilter","type","changeSelectedSupplies","supply","isAdd","fetchSupplies","dispatch","then","res","data","districtData","require","TagContainer","styled","div","Title","h1","AffixBottom","Container","MainContent","Supply","props","map","types","each","name","flatMap","id","selectedAll","hasSubArray","key","onClick","handleSelectAll","className","selected","includes","onChange","handleSelect","CustomChildren","style","backgroundColor","paddingLeft","display","height","lineHeight","flex","overflow","textOverflow","whiteSpace","children","textAlign","color","marginRight","extra","master","sub","has","forEach","element","Search","connect","state","demand","bindActionCreators","withRouter","antdDistrict","handleCityCodeChange","value","setState","push","splice","indexOf","prevState","concat","handleSubmit","length","history","handleJump","this","cityCodeArr","Object","keys","index","itemLevel1","code","label","cities","itemLevel2","icon","onLeftClick","mode","title","v","cols","Item","React","Component","ContactInfo","padding","Brief","renderItems","records","t","time","total","arrow","thumb","multipleLine","items","current","locale","prevText","nextText","path","size","Header","Body","onNavigateTo","bind","MainTabBar","selectedTab","hidden","fullScreen","match","tab","content","position","width","top","unselectedTintColor","tintColor","barTintColor","background","selectedIcon","onPress","replace","data-seed","renderContent","hospitalActions","searchHospital","page","console","log","city","hasNextPage","searchHospitalInAdditional","ids","byId","detail","rebaseHospitalData","remoteData","hospital","Hospitals","hospitals","onEndReached","event","isLoading","copyToClickBoard","copy","success","fail","dataSource","DataSource","rowHasChanged","row1","row2","reloadData","Panel","header","ref","ap","filterAccordion","CheckboxItem","checked","handleItemClick","renderFooter","renderRow","rowData","sectionID","rowID","full","marginBottom","fontSize","float","text","province","amount","Footer","justify","phone","address","to","pageSize","useBodyScroll","onScroll","scrollRenderAheadDistance","onEndReachedThreshold","nextProps","cloneWithRows","Detail","showContactBox","fetchHospitalById","API_GET_HOSPITAL_BY_ID","supplyWithCategories","masks","armors","equipments","others","divideSuppliesIntoCategories","goBack","category","count","visible","transparent","maskClosable","onClose","afterClose","footer","record","combineReducers","action","newSupplies","additionalData","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","thunk","App","store","component","Record","Home","Boolean","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc332baa.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport function get(url, params) {\n  return axios.get(url, {params});\n}\n\nexport function post(url, body, params) {\n  return axios.post(url, body, {params});\n}\n\nconst basic = 'http://czr.vipdesk.cn:8080/api/';\n// const basic = 'http://localhost:8181/zhurong/';\n\nexport const API_GET_HOSPITALS = `${basic}hospitals`;\n\nexport const API_GET_HOSPITAL_BY_ID = id => `${basic}hospitals/${id}`;\n\nexport const API_GET_SUPPLIES = `${basic}supplies`;\n","import { get, API_GET_SUPPLIES } from \"../../utils/api\";\n\n//reducer\nconst initialState = {\n  filter: {\n    cityCode: \"\",\n    supplies: [],\n    cityName: \"\"\n  },\n  allSupplies: [],\n  flatSupplies: []\n};\n\n// action\nexport const demandActions = {\n  setDemandsFilter(filter) {\n    return { type: \"SET_DEMANDS_FILTER\", filter };\n  },\n  changeSelectedSupplies(supply, isAdd = true) {\n    return isAdd\n        ? {\n          type: \"ADD_SUPPLY_TO_FILTER\",\n          supply\n        }\n        : {\n          type: \"REMOVE_SUPPLY_FROM_FILTER\",\n          supply\n        }\n  },\n  fetchSupplies() {\n    return dispatch =>\n      get(API_GET_SUPPLIES).then(res =>\n        dispatch(fetchSuppliesSuccess(res.data))\n      );\n  }\n};\n\n// action creator\nfunction fetchSuppliesSuccess(data) {\n  return {\n    type: \"FETCH_SUPPLIES_SUCCESS\",\n    data\n  };\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_SUPPLIES_SUCCESS\":\n      return {\n        ...state,\n        allSupplies: action.data,\n        flatSupplies: action.data.flatMap(each => each.types)\n      };\n    case \"SET_DEMANDS_FILTER\":\n      return {\n        ...state,\n        filter: action.filter\n      };\n    case \"ADD_SUPPLY_TO_FILTER\":\n      return {\n        ...state,\n        filter: {\n          ...state.filter,\n          supplies: [...state.filter.supplies, action.supply]\n        }\n      };\n    case \"REMOVE_SUPPLY_FROM_FILTER\":\n      const { supplies } = state.filter;\n      const index = supplies.indexOf(action.supply);\n      const newSupplies = [...supplies].splice(index, 1);\n      return {\n        ...state,\n        filter: {\n          ...state.filter,\n          supplies: newSupplies\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { List, Button, Tag, Flex, Picker, NavBar, Icon } from \"antd-mobile\";\nimport { withRouter } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { bindActionCreators } from \"redux\";\nimport { demandActions } from \"../../redux/demand/index\";\n\nconst districtData = require(\"../../assets/location.json\");\n\nconst TagContainer = styled.div`\n  display: flex;\n  padding-top: 9px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  div {\n    margin-left: 9px;\n    margin-bottom: 9px;\n  }\n`;\nconst Title = styled.h1`\n  font-size: 14px;\n  margin-left: 9px;\n  margin-bottom: 0px;\n  .select {\n    float: right;\n    color: #108ee9;\n    margin-right: 9px;\n  }\n`;\nconst AffixBottom = styled.div`\n  flex: 0 0 auto;\n  margin-bottom: 10px;\n  margin-left: 9px;\n  margin-right: 9px;\n`;\nconst Container = styled.div`\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\nconst MainContent = styled.div`\n  flex: 1 0 auto;\n`;\n\nfunction Supply(props) {\n  const content = props.allSupplies.map(supply => {\n    const types = props.allSupplies\n      .filter(each => each.name === supply.name)\n      .flatMap(each => each.types)\n      .map(each => each.id);\n    const selectedAll = hasSubArray(props.supplies, types);\n\n    return (\n      <div key={supply.name}>\n        <Title>\n          {supply.name}\n          <span\n            onClick={() => props.handleSelectAll(supply.name)}\n            className=\"select\"\n          >\n            {selectedAll ? \"取消全选\" : \"全选\"}\n          </span>\n        </Title>\n        <TagContainer>\n          {supply.types.map(type => (\n            <Tag\n              key={type.id}\n              selected={props.supplies.includes(type.id)}\n              onChange={selected => props.handleSelect(type.id, selected)}\n            >\n              {type.name}\n            </Tag>\n          ))}\n        </TagContainer>\n      </div>\n    );\n  });\n\n  return content;\n}\n\nconst CustomChildren = props => (\n  <div\n    onClick={props.onClick}\n    style={{ backgroundColor: \"#fff\", paddingLeft: 15 }}\n  >\n    <div\n      className=\"test\"\n      style={{ display: \"flex\", height: \"45px\", lineHeight: \"45px\" }}\n    >\n      <div\n        style={{\n          flex: 1,\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          whiteSpace: \"nowrap\"\n        }}\n      >\n        {props.children}\n      </div>\n      <div style={{ textAlign: \"right\", color: \"#888\", marginRight: 15 }}>\n        {props.extra}\n      </div>\n    </div>\n  </div>\n);\n\n// TODO: move it to utils\nfunction hasSubArray(master, sub) {\n  let has = true;\n  sub.forEach(element => {\n    if (!master.includes(element)) has = false;\n  });\n  return has;\n}\n\n@withRouter\n@connect(mapStateToProps, mapDispatchToProps)\nclass Search extends React.Component {\n  state = {\n    cityCode: [],\n    supplies: [],\n    antdDistrict: []\n  };\n\n  componentDidMount() {\n    this.props.fetchSupplies();\n    const {\n      filter: { supplies, cityCode }\n    } = this.props;\n    this.setState({\n      supplies\n    });\n\n    let cityCodeArr = [];\n    let antdDistrict = [];\n    Object.keys(districtData).forEach(index => {\n      let itemLevel1 = {};\n      itemLevel1.value = districtData[index].code;\n      itemLevel1.label = districtData[index].name;\n      itemLevel1.children = [];\n      let data = districtData[index].cities;\n      Object.keys(data).forEach(index => {\n        if (data[index].code === cityCode) {\n          cityCodeArr = [itemLevel1.value, cityCode];\n        }\n        let itemLevel2 = {};\n        itemLevel2.value = data[index].code;\n        itemLevel2.label = data[index].name;\n        itemLevel1.children.push(itemLevel2);\n      });\n      antdDistrict.push(itemLevel1);\n    });\n    this.setState({\n      antdDistrict,\n      cityCode: cityCodeArr\n    });\n  }\n\n  handleCityCodeChange = value => {\n    this.setState({ cityCode: value });\n  };\n\n  handleSelect = (id, selected) => {\n    let supplies = this.state.supplies || [];\n    if (selected) {\n      supplies.push(id);\n    } else {\n      supplies.splice(supplies.indexOf(id), 1);\n    }\n    this.setState({ supplies });\n  };\n\n  handleSelectAll = name => {\n    let types = this.props.allSupplies\n      .filter(each => each.name === name)\n      .flatMap(each => each.types)\n      .map(each => each.id);\n    if (hasSubArray(this.state.supplies, types)) {\n      // 已全部选中,取消全选\n      this.setState(prevState => {\n        return {\n          supplies: prevState.supplies.filter(each => !types.includes(each))\n        };\n      });\n    } else {\n      // 未全部选中,全选\n      this.setState(prevState => {\n        types = types.filter(each => !prevState.supplies.includes(each));\n        types = prevState.supplies.concat(types);\n        return {\n          supplies: types\n        };\n      });\n    }\n  };\n\n  handleSubmit = () => {\n    const { supplies, cityCode } = this.state;\n    let cityName;\n    if (cityCode && cityCode.length >= 2) {\n      cityName = districtData[cityCode[0]][\"cities\"][cityCode[1]][\"name\"];\n    }\n    this.props.setDemandsFilter({\n      supplies,\n      cityCode: cityCode.length >= 2 && cityCode[1],\n      cityName\n    });\n    this.props.history.push(\"/hospitals\");\n  };\n\n  handleJump = () => {\n    this.props.history.push(\"/hospitals\");\n  };\n\n  render() {\n    const { allSupplies } = this.props;\n    const { cityCode, antdDistrict, supplies } = this.state;\n    const { handleSelect, handleSelectAll } = this;\n    return (\n      <Container>\n        <NavBar\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => {\n            this.props.history.push(\"/\");\n          }}\n          mode=\"dark\"\n        >\n          我要捐助\n        </NavBar>\n        <MainContent>\n          <List style={{ backgroundColor: \"white\" }}>\n            <Picker\n              title=\"选择地区\"\n              extra=\"全部\"\n              data={antdDistrict}\n              value={cityCode}\n              onChange={v => this.handleCityCodeChange(v)}\n              cols={2}\n            >\n              <CustomChildren>请选择捐赠地区</CustomChildren>\n            </Picker>\n          </List>\n          <Supply\n            {...{ allSupplies, handleSelect, handleSelectAll, supplies }}\n          />\n        </MainContent>\n        <AffixBottom>\n          <Flex>\n            <Flex.Item>\n              <Button type=\"primary\" onClick={this.handleSubmit}>\n                匹配\n              </Button>\n            </Flex.Item>\n            <Flex.Item>\n              <Button onClick={this.handleSubmit}>查看全部需求</Button>\n            </Flex.Item>\n          </Flex>\n        </AffixBottom>\n      </Container>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { filter: state.demand.filter, allSupplies: state.demand.allSupplies };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    ...bindActionCreators(demandActions, dispatch)\n  };\n}\n\nexport default Search;\n","import React from \"react\";\nimport { NavBar } from \"antd-mobile\";\n\nclass ContactInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar mode=\"dark\">联系我们</NavBar>\n        <div style={{ padding: 12 }}>\n          <p>\n            更多信息请联系微信 xxx 或扫描如下二维码：<br></br> （二维码）\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ContactInfo;\n","import React from \"react\";\nimport { Flex, NavBar, List, Pagination } from \"antd-mobile\";\nimport \"./style.css\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Item = List.Item;\nconst Brief = Item.Brief;\n\n@withRouter\nclass ContactInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      records: [\n        {\n          id: 1,\n          name: \"启航\",\n          total: 30,\n          items: [],\n          time: \"2020年2月1日 19点26分\"\n        },\n        {\n          id: 2,\n          name: \"某某人\",\n          total: 10,\n          items: [],\n          time: \"2020年2月1日 19点24分\"\n        }\n      ]\n    });\n  }\n\n  renderItems = () => {\n    let res = [];\n    const { records = [] } = this.state;\n    res = records.map(t => {\n      const { id = 0, name = \"\", time = \"\", total = 0 } = t;\n      return (\n        <Item\n          arrow=\"horizontal\"\n          thumb=\"https://zos.alipayobjects.com/rmsportal/dNuvNrtqUztHCwM.png\"\n          multipleLine\n          onClick={() => {\n            this.props.history.push(`/record/${id}`);\n          }}\n        >\n          【{name}】捐助了{total}件物资 <Brief>{time}</Brief>\n        </Item>\n      );\n    });\n    return res;\n  };\n\n  render() {\n    const locale = {\n      prevText: \"上一页\",\n      nextText: \"下一页\"\n    };\n    return (\n      <div>\n        <NavBar mode=\"dark\">捐助记录</NavBar>\n        <Flex>\n          <Flex.Item>\n            <List>{this.renderItems()}</List>\n          </Flex.Item>\n        </Flex>\n        <Flex>\n          <Flex.Item>\n            <Pagination\n              className=\"pagination\"\n              total={5}\n              current={1}\n              locale={locale}\n            />\n          </Flex.Item>\n        </Flex>\n      </div>\n    );\n  }\n}\n\nexport default ContactInfo;\n","import React from \"react\";\nimport { Card, WingBlank, WhiteSpace, NavBar, Button } from \"antd-mobile\";\nimport { withRouter } from \"react-router-dom\";\n\n@withRouter\nclass ContactInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  onNavigateTo(path) {\n    this.props.history.push(path);\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar mode=\"dark\">物资对接</NavBar>\n        <WingBlank size=\"lg\">\n          <WhiteSpace size=\"lg\" />\n          <Card>\n            <Card.Header title={<h3>打通您和医院的对接</h3>} />\n            <Card.Body>\n              <p>\n                我们为捐助者和医院提供一个物资快速匹配的平台。\n                简单填写你的物资需求或捐助意愿，开始你的匹配。\n              </p>\n              <Button type=\"primary\" onClick={this.onNavigateTo.bind(this, '/search')}>开始捐助</Button>\n              <WhiteSpace />\n              <Button type=\"warning\">求助物资</Button>\n              <WhiteSpace />\n            </Card.Body>\n          </Card>\n          <WhiteSpace size=\"lg\" />\n        </WingBlank>\n      </div>\n    );\n  }\n}\n\nexport default ContactInfo;\n","import { TabBar } from \"antd-mobile\";\nimport React from \"react\";\nimport \"./style.css\";\nimport ContactInfo from \"../contact-info\";\nimport Records from \"../records\";\nimport Match from \"../match\";\nimport { withRouter } from \"react-router-dom\";\n\n@withRouter\nclass MainTabBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedTab: \"match\",\n      hidden: false,\n      fullScreen: true\n    };\n  }\n  componentDidMount() {\n    const { match = {} } = this.props;\n    const { params = {} } = match;\n    const { tab = \"\" } = params;\n    const tabs = [\"match\", \"records\", \"contact\"];\n    if (!!tab && tabs.includes(tab)) {\n      this.setState({ selectedTab: tab });\n    }\n  }\n\n  renderContent(content) {\n    return (\n      <div\n        style={{\n          backgroundColor: \"white\",\n          height: \"100%\",\n          textAlign: \"center\"\n        }}\n      >\n        {content}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={\n          this.state.fullScreen\n            ? { position: \"fixed\", height: \"100%\", width: \"100%\", top: 0 }\n            : { height: 400 }\n        }\n      >\n        <TabBar\n          unselectedTintColor=\"#949494\"\n          tintColor=\"#33A3F4\"\n          barTintColor=\"white\"\n          hidden={this.state.hidden}\n        >\n          <TabBar.Item\n            title=\"物资对接\"\n            key=\"match\"\n            icon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(/logo_gray.svg) center center /  21px 21px no-repeat\"\n                }}\n              />\n            }\n            selectedIcon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(/logo.svg) center center /  21px 21px no-repeat\"\n                }}\n              />\n            }\n            selected={this.state.selectedTab === \"match\"}\n            onPress={() => {\n              this.props.history.replace(`/match`);\n              this.setState({ selectedTab: \"match\" });\n            }}\n            data-seed=\"logId\"\n          >\n            {this.renderContent(<Match />)}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(/records_gray.svg) center center /  16px 16px no-repeat\"\n                }}\n              />\n            }\n            selectedIcon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(/records.svg) center center /  16px 16px no-repeat\"\n                }}\n              />\n            }\n            title=\"捐助记录\"\n            key=\"records\"\n            selected={this.state.selectedTab === \"records\"}\n            onPress={() => {\n              this.props.history.replace(`/records`);\n              this.setState({ selectedTab: \"records\" });\n            }}\n            data-seed=\"logId1\"\n          >\n            {this.renderContent(<Records />)}\n          </TabBar.Item>\n          <TabBar.Item\n            icon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(https://zos.alipayobjects.com/rmsportal/psUFoAMjkCcjqtUCNPxB.svg) center center /  21px 21px no-repeat\"\n                }}\n              />\n            }\n            selectedIcon={\n              <div\n                style={{\n                  width: \"22px\",\n                  height: \"22px\",\n                  background:\n                    \"url(https://zos.alipayobjects.com/rmsportal/IIRLrXXrFAhXVdhMWgUI.svg) center center /  21px 21px no-repeat\"\n                }}\n              />\n            }\n            title=\"联系我们\"\n            key=\"contact\"\n            selected={this.state.selectedTab === \"contact\"}\n            onPress={() => {\n              this.props.history.replace(`/contact`);\n              this.setState({ selectedTab: \"contact\" });\n            }}\n          >\n            {this.renderContent(<ContactInfo />)}\n          </TabBar.Item>\n        </TabBar>\n      </div>\n    );\n  }\n}\n\nexport default MainTabBar;\n","import { get, API_GET_HOSPITALS } from \"../../utils/api\";\n// action\nexport const hospitalActions = {\n  searchHospital(filter, page, size) {\n    console.log(\n      \"===searchHospital,发起请求===\",\n      filter.cityCode,\n      filter.supplies\n    );\n    return dispatch =>\n      get(API_GET_HOSPITALS, {\n        city: \"武汉\" || filter.cityName,\n        page,\n        size\n      }).then(res =>\n        dispatch(fetchHospitalsSuccess(res.data.data, res.data.hasNextPage))\n      );\n  },\n  searchHospitalInAdditional(filter, page, size) {\n    console.log(\n      \"===searchHospitalInAdditional,发起请求===\",\n      filter.cityCode,\n      filter.supplies,\n      page\n    );\n    return dispatch =>\n      get(API_GET_HOSPITALS, {\n        city: \"武汉\" || filter.cityName,\n        page,\n        size\n      }).then(res =>\n        dispatch(\n          fetchHospitalsInAdditionalSuccess(res.data.data, res.data.hasNextPage)\n        )\n      );\n  }\n};\n\n// action creator\nfunction fetchHospitalsSuccess(data, hasNextPage) {\n  return {\n    type: \"FETCH_HOSPITALS_SUCCESS\",\n    data,\n    hasNextPage\n  };\n}\n\nfunction fetchHospitalsInAdditionalSuccess(data, hasNextPage) {\n  return {\n    type: \"FETCH_HOSPITALS_IN_ADDITIONAL_SUCCESS\",\n    data,\n    hasNextPage\n  };\n}\n\n//reducer\nconst initialState = {\n  ids: [],\n  byId: {}, // TODO: should be removed\n  detail: {}, // TODO: should return detail not length one list\n  hasNextPage: true\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case \"FETCH_HOSPITALS_SUCCESS\":\n      return { ...state, ...rebaseHospitalData(action.data) };\n    case \"FETCH_HOSPITALS_IN_ADDITIONAL_SUCCESS\":\n      const additionalData = rebaseHospitalData(action.data);\n      return {\n        ...state,\n        ids: [...state.ids, ...additionalData.ids],\n        byId: { ...state.byId, ...additionalData.byId }\n      };\n    default:\n      return state;\n  }\n}\n\nfunction rebaseHospitalData(remoteData) {\n  let ids = [];\n  let byId = {};\n  remoteData && remoteData.forEach(hospital => {\n    ids.push(hospital[\"id\"]);\n    byId[hospital[\"id\"]] = hospital;\n  });\n  return { ids, byId };\n}\n\n//selector\n\nexport function selectAllHospital(hospitals) {\n  return hospitals.ids.map(id => hospitals.byId[id]);\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Badge,\n  WhiteSpace,\n  Card,\n  Icon,\n  Flex,\n  Accordion,\n  List,\n  Checkbox,\n  NavBar,\n  Toast,\n  ListView,\n  Button\n} from \"antd-mobile\";\nimport \"./style.css\";\nimport { hospitalActions, selectAllHospital } from \"../../redux/hospitals\";\nimport { bindActionCreators } from \"redux\";\nimport { Link } from \"react-router-dom\";\nimport copy from \"copy-to-clipboard\";\nimport { demandActions } from \"../../redux/demand\";\n\nlet page;\nconst size = 10;\n\n@connect(mapStateToProps, mapDispatchToProps)\nclass Hospitals extends React.Component {\n  constructor(props) {\n    super(props);\n    const dataSource = new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2\n    });\n    this.state = {\n      dataSource,\n      hospitals: [],\n      isLoading: false,\n      hasNextPage: true\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.supplies) {\n      this.props.fetchSupplies();\n    }\n    this.reloadData();\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (prevState.hospitals !== nextProps.hospitals) {\n      return {\n        dataSource: prevState.dataSource.cloneWithRows(nextProps.hospitals),\n        hospitals: nextProps.hospitals,\n        isLoading: false,\n        hasNextPage: nextProps.hasNextPage\n      };\n    }\n    return null;\n  }\n\n  reloadData() {\n    page = 1;\n    this.props.searchHospital(this.props.filter, page++, size);\n  }\n\n  onEndReached = event => {\n    if (!this.state.hasNextPage) {\n      return;\n    }\n    if (this.state.isLoading) {\n      return;\n    }\n    this.setState({ isLoading: true });\n    this.props.searchHospitalInAdditional(this.props.filter, page++, size);\n  };\n\n  copyToClickBoard = (res, type) => {\n    if (copy(res)) {\n      Toast.success(`${type}已复制到粘贴板`);\n    } else {\n      Toast.fail(\"复制失败\");\n    }\n  };\n\n  render() {\n    const { hospitals, filter, supplies } = this.props;\n\n    const row = (rowData, sectionID, rowID) => {\n      const hospital = hospitals[rowID];\n      return (\n        <Card full style={{ marginBottom: \"10px\" }}>\n          <Card.Header\n            title={\n              <span style={{ width: \"100%\", lineHeight: \"30px\" }}>\n                <span\n                  style={{\n                    fontSize: \"16px\",\n                    float: \"left\"\n                  }}\n                >\n                  {hospital.name}\n                </span>\n                <span style={{ float: \"right\" }}>\n                  <Badge text={hospital.province} />\n                </span>\n              </span>\n            }\n          />\n          <Card.Body>\n            {hospital.supplies &&\n              (hospital.supplies.map(supply => (\n                <div key={supply.name} className=\"card-supplies\">\n                  <div className=\"card-supplies-name\">{supply.name}</div>\n                  <div className=\"card-supplies-number\">{supply.amount <= 0 ? \"不限量\" : supply.amount}</div>\n                </div>\n              )))}\n          </Card.Body>\n          <Card.Footer\n            content={\n              <Flex justify=\"end\">\n                <Flex.Item>\n                  <div\n                    className=\"card-action-icon\"\n                    onClick={() =>\n                      this.copyToClickBoard(hospital.phone, \"联系方式\")\n                    }\n                  >\n                    <i className=\"ai-phone\" />\n                  </div>\n                </Flex.Item>\n                <Flex.Item>\n                  <div\n                    className=\"card-action-icon\"\n                    onClick={() =>\n                      this.copyToClickBoard(hospital.address, \"医院地址\")\n                    }\n                  >\n                    <i className=\"ai-home\" />\n                  </div>\n                </Flex.Item>\n                <Flex.Item>\n                  <Link\n                    className=\"card-action-icon\"\n                    to={\"/hospitals/\" + hospital.id}\n                  >\n                    <Icon size=\"md\" type=\"ellipsis\" />\n                  </Link>\n                </Flex.Item>\n              </Flex>\n            }\n          />\n        </Card>\n        // <Card className=\"hospital-card\" key={hospital.id} full>\n\n        // </Card>\n      );\n    };\n\n    return (\n      <div>\n        <NavBar\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => {\n            this.props.history.push(\"/search\");\n          }}\n          mode=\"dark\"\n        >\n          物资需求列表\n        </NavBar>\n        <div>\n          <Accordion>\n            <Accordion.Panel\n              header=\"物资类型筛选\"\n              ref={ap => (this.filterAccordion = ap)}\n            >\n              <List>\n                {supplies.map(supply => (\n                  <Checkbox.CheckboxItem\n                    key={supply.id}\n                    checked={filter.supplies.includes(supply.id)}\n                    onChange={() =>\n                      this.props.changeSelectedSupplies(\n                        supply.id,\n                        !filter.supplies.includes(supply.id)\n                      )\n                    }\n                  >\n                    {supply.name}\n                  </Checkbox.CheckboxItem>\n                ))}\n                <Button\n                  onClick={() => {\n                    this.filterAccordion.handleItemClick();\n                    this.reloadData();\n                  }}\n                >\n                  确认\n                </Button>\n              </List>\n            </Accordion.Panel>\n          </Accordion>\n        </div>\n        <WhiteSpace />\n        <ListView\n          dataSource={this.state.dataSource}\n          renderFooter={() => (\n            <div style={{ padding: 30, textAlign: \"center\" }}>\n              {this.state.isLoading ? \"加载中...\" : \"没有更多了\"}\n            </div>\n          )}\n          renderRow={row}\n          className=\"list_view\"\n          pageSize={size}\n          useBodyScroll\n          onScroll={() => {}}\n          scrollRenderAheadDistance={500}\n          onEndReached={this.onEndReached}\n          onEndReachedThreshold={10}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    hospitals: selectAllHospital(state.hospitals),\n    filter: state.demand.filter,\n    supplies: state.demand.flatSupplies,\n    hasNextPage: state.hospitals.hasNextPage\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    ...bindActionCreators(hospitalActions, dispatch),\n    ...bindActionCreators(demandActions, dispatch)\n  };\n}\n\nexport default Hospitals;\n","import React from \"react\";\nimport { Card, Icon, List, Modal, NavBar, Toast } from \"antd-mobile\";\nimport \"./style.css\";\nimport { API_GET_HOSPITAL_BY_ID, get } from \"../../utils/api\";\nimport copy from \"copy-to-clipboard\";\n\nclass Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showContactBox: false,\n      hospital: {}\n    };\n  }\n\n  componentDidMount() {\n    this.fetchHospitalById(this.props.match.params.id);\n  }\n\n  fetchHospitalById(id) {\n    console.log(\"===fetchHospitalById,发起请求===\", id);\n    get(API_GET_HOSPITAL_BY_ID(id)).then(res =>\n      this.setState({ hospital: res.data.data[0] })\n    );\n  }\n\n  copyToClickBoard = (res, type) => {\n    if (copy(res)) {\n      Toast.success(`${type}已复制到粘贴板`);\n    } else {\n      Toast.fail(\"复制失败\");\n    }\n  };\n\n  render() {\n    const { hospital } = this.state;\n    if (!hospital || !Object.keys(hospital).length) {\n      return \"\";\n    }\n    const supplyWithCategories = divideSuppliesIntoCategories(\n      hospital.supplies\n    );\n\n    return (\n      <div>\n        <NavBar\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => {\n            this.props.history.goBack();\n          }}\n          mode=\"dark\"\n        >\n          医院需求详情\n        </NavBar>\n        <Card className=\"detail-card\" full>\n          <Card.Header\n            title={\n              <div className=\"detail-card-header\">\n                <div className=\"detail-card-header-left\">\n                  <h3 className=\"detail-card-header-left-name\">\n                    {hospital.name}\n                  </h3>\n\n                  <div className=\"detail-card-header-left-address\">\n                    <p>地址： {hospital.address}</p>\n                  </div>\n                </div>\n                <div className=\"detail-card-header-right\">\n                  <span\n                    className=\"detail-card-header-right-phone\"\n                    onClick={() => this.setState({ showContactBox: true })}\n                  >\n                    <i className=\"ai-phone\" />\n                  </span>\n                  <span className=\"detail-card-header-right-copy\">\n                    <i\n                      className=\"ai-home\"\n                      onClick={() =>\n                        this.copyToClickBoard(hospital.address, \"医院地址\")\n                      }\n                    />\n                  </span>\n                </div>\n              </div>\n            }\n          />\n          <Card.Body className=\"detail-card-body\">\n            {supplyWithCategories\n              .filter(category => category.supplies.length)\n              .map(category => (\n                <div key={category.name} className=\"detail-card-body-category\">\n                  <h4 className=\"detail-card-body-category-name\">\n                    {category.name}\n                  </h4>\n                  <List className=\"detail-card-body-category-list\">\n                    {category.supplies.map(supply => (\n                      <List.Item\n                        key={supply.name}\n                        className=\"detail-card-body-category-list-item\"\n                        extra={\n                          <span className=\"detail-card-body-category-list-item-count\">\n                            {supply.count || \"不限\"}\n                          </span>\n                        }\n                      >\n                        {supply.name}\n                      </List.Item>\n                    ))}\n                  </List>\n                </div>\n              ))}\n          </Card.Body>\n        </Card>\n        <Modal\n          visible={this.state.showContactBox}\n          transparent\n          maskClosable={false}\n          onClose={() => this.setState({ showContactBox: false })}\n          afterClose={() => this.copyToClickBoard(hospital.phone, \"联系方式\")}\n          title=\"\"\n          footer={[\n            {\n              text: \"我知道了\",\n              onPress: () => this.setState({ showContactBox: false })\n            }\n          ]}\n        >\n          <div>{hospital.phone}</div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nfunction divideSuppliesIntoCategories(supplies) {\n  // TODO logic need to be complete or wait back-end return new structure\n  const masks = [];\n  const armors = [];\n  const equipments = [];\n  const others = [];\n  supplies.forEach(supply => {\n    const { name } = supply;\n    if (name.includes(\"口罩\")) {\n      masks.push(supply);\n    } else if (\n        name.includes(\"眼\") ||\n        name.includes(\"帽\") ||\n        name.includes(\"面\") ||\n        name.includes(\"衣\") ||\n        name.includes(\"服\")\n    ) {\n      armors.push(supply);\n    } else if (name.includes(\"设备\")) {\n      equipments.push(supply);\n    } else {\n      others.push(supply);\n    }\n  });\n  return [\n    { name: \"口罩\", supplies: masks },\n    { name: \"防护\", supplies: armors },\n    { name: \"医用设备\", supplies: equipments },\n    { name: \"其他\", supplies: others }\n  ];\n}\n\nexport default Detail;\n","import React from \"react\";\nimport { Flex, NavBar, Icon } from \"antd-mobile\";\nimport \"./style.css\";\n\nclass ContactInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      record: {}\n    };\n  }\n\n  componentDidMount() {\n    const { match = {} } = this.props;\n    const { params = {} } = match;\n    const { id = \"\" } = params;\n    this.setState({\n      record: [\n        {\n          name: \"启航\",\n          total: 30,\n          items: [],\n          time: \"2020年2月1日 19点26分\"\n        }\n      ]\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => {\n            this.props.history.goBack();\n          }}\n          mode=\"dark\"\n        >\n          捐助详情\n        </NavBar>\n        <Flex>捐助详情内容</Flex>\n      </div>\n    );\n  }\n}\n\nexport default ContactInfo;\n","import { combineReducers } from \"redux\";\nimport demand from \"./demand\";\nimport hospitals from \"./hospitals\";\n\nexport default combineReducers({\n  demand, hospitals\n});\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport log from \"redux-logger\";\nimport reducer from \"./reducer\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(reducer, composeEnhancers(\n    applyMiddleware(thunk, log)\n));","import React from \"react\";\nimport \"./App.css\";\nimport Search from \"./routes/search\";\nimport Home from \"./routes/home\";\nimport Hospitals from \"./routes/hospitals\";\nimport Detail from \"./routes/detail\";\nimport Record from \"./routes/record\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport store from \"./redux/store\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Switch>\n          <Route path=\"/hospitals/:id\" component={Detail} />\n          <Route path=\"/hospitals\" component={Hospitals} />\n          <Route path=\"/search\" component={Search} />\n          <Route path=\"/record/:id\" component={Record} />\n          <Route path=\"/:tab\" component={Home} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"antd-mobile/dist/antd-mobile.css\";\nimport \"ant-design-icons/dist/anticons.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}